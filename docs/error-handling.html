<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Error Handling | ShipEngine Connect</title><meta content="utf-8" http-equiv="encoding"/><meta content="text/html;charset=utf-8" http-equiv="Content-Type"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="robots" content="noindex, nofollow"/><meta name="st:robots" content="follow, index"/><link rel="canonical" href="https://connect-v1.shipengine.com/docs/error-handling"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@ShipEngineAPI"/><meta name="twitter:creator" content="@ShipEngineAPI"/><meta name="twitter:title" content="Error Handling"/><meta name="twitter:url" content="https://connect-v1.shipengine.com/docs/error-handling"/><meta name="twitter:image" content="https://connect-v1.shipengine.com/img/media/card-square.png"/><meta name="twitter:description" content="ShipEngine Connect applications can throw errors just like any other JavaScript application. We also support custom error properties and classes to make things easier."/><meta property="og:locale" content="en_US"/><meta property="og:site_name" name="author" content="ShipEngine Connect"/><meta property="og:url" content="https://connect-v1.shipengine.com/docs/error-handling"/><meta property="og:title" name="title" content="Error Handling" class="swiftype" data-type="string"/><meta property="og:image" name="image" content="https://connect-v1.shipengine.com/img/media/card-square.png" class="swiftype" data-type="enum"/><meta property="og:description" name="description" content="ShipEngine Connect applications can throw errors just like any other JavaScript application. We also support custom error properties and classes to make things easier." class="swiftype" data-type="text"/><meta property="og:type" content="article"/><meta property="article:section" content="documentation"/><meta property="article:published_time" name="published_at" content="2022-05-23T22:22:10.651Z" class="swiftype" data-type="date"/><meta property="article:modified_time" name="updated_at" content="2022-05-23T22:22:10.651Z" class="swiftype" data-type="date"/><script type="application/ld+json">[{"@context":"http://schema.org","@type":["Service","WebAPI"],"name":"ShipEngine Connect","serviceType":"API","category":"Internet Service > API","url":"https://connect-v1.shipengine.com/","image":"https://connect-v1.shipengine.com/img/media/card-square.png","logo":"https://connect-v1.shipengine.com/img/logos/shipengine-connect-logo.png","documentation":{"@context":"http://schema.org","@type":"APIReference","name":"ShipEngine Connect","headline":"ShipEngine Connect","description":"Integrate your carrier or marketplace with our world class e-commerce solutions and gain immediate access to a global user base","keywords":"","url":"https://connect-v1.shipengine.com/docs","image":"https://connect-v1.shipengine.com/img/media/card-square.png","isAccessibleForFree":true,"targetPlatform":"http","dateCreated":"2022-05-23T22:22:10.651Z","dateModified":"2022-05-23T22:22:10.651Z","author":{"@type":"Organization","name":"ShipEngine","telephone":"1 (512) 856-5379","email":"connect@shipengine.com","url":"https://connect-v1.shipengine.com/","logo":"https://connect-v1.shipengine.com/img/logos/shipengine-connect-logo.png"}},"termsOfService":"https://connect-v1.shipengine.com/terms-of-service","description":"ShipEngine Connect applications can throw errors just like any other JavaScript application. We also support custom error properties and classes to make things easier.","provider":{"@type":"Organization","name":"ShipEngine","telephone":"1 (512) 856-5379","email":"connect@shipengine.com","url":"https://connect-v1.shipengine.com/","logo":"https://connect-v1.shipengine.com/img/logos/shipengine-connect-logo.png"}},{"@context":"http://schema.org","@type":"APIReference","name":"ShipEngine Connect","headline":"Error Handling","description":"ShipEngine Connect applications can throw errors just like any other JavaScript application. We also support custom error properties and classes to make things easier.","keywords":"","url":"https://connect-v1.shipengine.com/docs/error-handling","image":"https://connect-v1.shipengine.com/img/media/card-square.png","isAccessibleForFree":true,"targetPlatform":"NodeJS","dateCreated":"2022-05-23T22:22:10.651Z","dateModified":"2022-05-23T22:22:10.651Z","author":{"@type":"Organization","name":"ShipEngine","telephone":"1 (512) 856-5379","email":"connect@shipengine.com","url":"https://connect-v1.shipengine.com/","logo":"https://connect-v1.shipengine.com/img/logos/shipengine-connect-logo.png"}}]</script><link rel="icon" type="image/png" sizes="32x32" href="/img/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/favicons/favicon-16x16.png"/><link rel="apple-touch-icon" sizes="180x180" href="/img/favicons/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="152x152" href="/img/favicons/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="120x120" href="/img/favicons/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="76x76" href="/img/favicons/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="60x60" href="/img/favicons/apple-touch-icon-60x60.png"/><link rel="mask-icon" href="/img/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="apple-mobile-web-app-title" content="ShipEngine Connect"/><meta name="application-name" content="ShipEngine Connect"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/img/favicons/mstile-144x144.png"/><meta name="msapplication-config" content="/browserconfig.xml"/><meta name="theme-color" content="#ffffff"/><link rel="manifest" href="/site.webmanifest"/><script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";analytics.load("ftxwmcSBxfMQgHFM29qNvegJAqbsZq3v");analytics.page();}}();</script><meta name="next-head-count" content="11"/><link rel="preload" href="/_next/static/css/88fb68d5c7be720d2136.css" as="style"/><link rel="stylesheet" href="/_next/static/css/88fb68d5c7be720d2136.css" data-n-g=""/><link rel="preload" href="/_next/static/css/2be9a053c247fdc0bad2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2be9a053c247fdc0bad2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-d3c771ab8682f4a400d6.js" defer=""></script><script src="/_next/static/chunks/framework-8734539471b7f505b80a.js" defer=""></script><script src="/_next/static/chunks/main-6ed46873283eb77e5b5e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-86d1a3ee013cef61a780.js" defer=""></script><script src="/_next/static/chunks/1783-4ee1551b0dc2849b073d.js" defer=""></script><script src="/_next/static/chunks/pages/docs/error-handling-fa03100d44c3000a51d1.js" defer=""></script><script src="/_next/static/xm6gAVI8G4BgGZs7KyjTp/_buildManifest.js" defer=""></script><script src="/_next/static/xm6gAVI8G4BgGZs7KyjTp/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="header_siteHeader__Z1OM-"><a id="site-logo" class="header_siteLogo__3_PHa" href="/"><img src="/img/logos/shipengine-connect-logo.svg" alt="Shipengine Connect"/></a><form class="header_siteSearchForm__2un1A invisible" method="get" action="https://www.google.com/search"><label for="site-search" class="visually-hidden">ShipEngine Connect Docs Search</label><input type="search" id="site-search" class="st-default-search-input" name="q" placeholder="Search"/><input type="hidden" name="as_sitesearch" value="connect-v1.shipengine.com"/></form></header><div id="page-background"><div id="docs-page"><nav class="menu_menu__2EBQr"><button id="menu-button" class="menu_menuButton__1OMOw"></button><ul class="menu_menuList__1rqjy nav-menu "><li><details class="menu_group__1Tyby" open=""><summary>Start Here</summary><ul class="menu_groupList__QhMIb"><li><div class="menu_subGroup__1cqMy ">Overview</div><ul class="menu_subGroupList__3gBaa"><li><a class="menu_menuItem__26A3z " href="/">Welcome</a></li><li><a class="menu_menuItem__26A3z " href="/docs">Getting Started</a></li><li><a class="menu_menuItem__26A3z " href="/docs/structure">App Structure</a></li><li><a class="menu_menuItem__26A3z " href="/docs/tools">Recommended Tools</a></li></ul></li><li><div class="menu_subGroup__1cqMy menu_selected__TJy72">Guides</div><ul class="menu_subGroupList__3gBaa"><li><a class="menu_menuItem__26A3z " href="/docs/contributing">Contribution Guide</a></li><li><a class="menu_menuItem__26A3z " href="/docs/style">Style Guide</a></li><li><a class="menu_menuItem__26A3z " href="/docs/cli">Using the CLI</a></li><li><a class="menu_menuItem__26A3z " href="/docs/create-first-app">Creating Your First App</a></li><li><a class="menu_menuItem__26A3z " href="/docs/implementation">Implementing Your Methods</a></li><li><a class="menu_menuItem__26A3z " href="/docs/typescript">Developing in TypeScript</a></li><li><a class="menu_menuItem__26A3z " href="/docs/environment-variables">Environment Variables</a></li><li><a class="menu_menuItem__26A3z menu_selected__TJy72" href="/docs/error-handling">Error Handling</a></li><li><a class="menu_menuItem__26A3z " href="/docs/testing">Testing</a></li><li><a class="menu_menuItem__26A3z " href="/docs/publish">Publishing</a></li></ul></li><li><div class="menu_subGroup__1cqMy ">Reference</div><ul class="menu_subGroupList__3gBaa"><li><a class="menu_menuItem__26A3z " href="/changelog">Changelog</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/forms">Form Definitions</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/transaction">Carrier App Transaction</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/order-transaction">Order App Transaction</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/address">Address</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/common-types">Common Types</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/country-codes">Country Codes</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/shipping-preferences">Shipping Preference</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/charge">Charge</a></li></ul></li></ul></details></li><li><details class="menu_group__1Tyby" open=""><summary>Carrier Apps</summary><ul class="menu_groupList__QhMIb"><li><div class="menu_subGroup__1cqMy ">Overview</div><ul class="menu_subGroupList__3gBaa"><li><a class="menu_menuItem__26A3z " href="/docs/carrier-app">Overview</a></li><li><a class="menu_menuItem__26A3z " href="/docs/carrier-app/map-services">How to map services</a></li></ul></li><li><div class="menu_subGroup__1cqMy ">App Structure</div><ul class="menu_subGroupList__3gBaa"><li><a class="menu_menuItem__26A3z " href="/docs/reference/carrier">Carrier App</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/delivery-service">Delivery Service</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/pickup-service">Pickup Service</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/packaging">Packaging</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/delivery-confirmation">Delivery Confirmation</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/forms">Form Definitions</a></li></ul></li><li><div class="menu_subGroup__1cqMy ">Methods</div><ul class="menu_subGroupList__3gBaa"><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/connect">connect</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/create-shipment">createShipment</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/cancel-shipments">cancelShipments</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/track-shipment">trackShipment</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/rate-shipment">rateShipment</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/create-manifest">createManifest</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/schedule-pickup">schedulePickup</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/cancel-pickups">cancelPickups</a></li></ul></li></ul></details></li><li><details class="menu_group__1Tyby"><summary>Order Apps</summary><ul class="menu_groupList__QhMIb"><li><div class="menu_subGroup__1cqMy ">Overview</div><ul class="menu_subGroupList__3gBaa"><li><a class="menu_menuItem__26A3z " href="/docs/order-app">Overview</a></li><li><a class="menu_menuItem__26A3z " href="/docs/oauth">Authorization</a></li></ul></li><li><div class="menu_subGroup__1cqMy ">App Structure</div><ul class="menu_subGroupList__3gBaa"><li><a class="menu_menuItem__26A3z " href="/docs/reference/order">Order App</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/forms#order-apps">Form Definitions</a></li></ul></li><li><div class="menu_subGroup__1cqMy ">Methods</div><ul class="menu_subGroupList__3gBaa"><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/get-sales-orders-by-date">getSalesOrdersByDate</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/shipment-created">shipmentCreated</a></li><li><a class="menu_menuItem__26A3z " href="/docs/reference/methods/acknowledge-orders">acknowledgeOrders</a></li></ul></li></ul></details></li><li><details class="menu_group__1Tyby" open=""><summary>Service</summary><ul class="menu_groupList__QhMIb"><li><a class="menu_menuItem__26A3z " href="https://help.shipengine.com/">FAQ</a></li><li><a class="menu_menuItem__26A3z " href="https://help.shipengine.com/hc/en-us/requests/new">Support</a></li><li><a class="menu_menuItem__26A3z " href="https://status.shipengine.com/">API Status</a></li><li><a class="menu_menuItem__26A3z " href="https://www.shipengine.com/terms-of-service/">Terms of Service</a></li><li><a class="menu_menuItem__26A3z " href="https://www.shipengine.com/privacy-policy/">Privacy Policy</a></li></ul></details></li><li><details class="menu_group__1Tyby" open=""><summary>Community</summary><ul class="menu_groupList__QhMIb"><li><a class="menu_menuItem__26A3z " href="https://www.shipengine.com/blog/">Blog</a></li><li><a class="menu_menuItem__26A3z " href="https://www.meetup.com/Austin-Homegrown-API/">Meetup Group</a></li></ul></details></li></ul></nav><main data-swiftype-name="body" data-swiftype-type="text"><article><div class="section"><div class="section-group left-group"><h1 class="html_h1__3_ac7 ">Error Handling</h1><p><a href="/docs">ShipEngine Connect</a> applications can throw <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Errors</a> just like any other JavaScript application.  Any uncaught exception will terminate the currently executing method and generate an error log.</p><p>For example, the methods you implement will often need to perform input validation. If this validation fails, you can throw an error as in the example below.</p><div class="code-wrapper_codeWrapper__ssrf6"><pre class="language-javascript code-wrapper_selectedCodeBlock__ISwuh code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> parcel </span><span class="token keyword">of</span><span class="token plain"> shipment</span><span class="token punctuation">.</span><span class="token property-access">packages</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">parcel</span><span class="token punctuation">.</span><span class="token property-access">packaging</span><span class="token punctuation">.</span><span class="token property-access">code</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;BOX&quot;</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> parcel</span><span class="token punctuation">.</span><span class="token property-access">weight</span><span class="token punctuation">.</span><span class="token property-access">grams</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 line_highlight__-CSSR"><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain">    </span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">RangeError</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">parcel</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation">packaging</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> cannot weigh more than 100 kilograms</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div></code></pre><form class="invisible code-toolbar_codeToolbar__2r1kC"><button class="button-small">Copy</button><img src="/img/logos/languages/javascript.svg" alt="JavaScript" class="language-list_languageIcon__1MRJD language-list_javascript__1RPTJ"/></form></div></div><div class="section-group right-group"><nav id="table-of-contents" class="table-of-contents_toc__2VPfA"><a href="#">Error Handling</a><a href="#additional-error-properties">Additional Error Properties</a><a href="#error-codes">Error Codes</a><a href="#error-classes">Error Classes</a></nav></div></div><div class="section"><div class="section-group left-group"><h2 class="html_h2__RJd8Q "><span id="additional-error-properties" class="html_headingAnchor__2mM-B" aria-hidden="true"></span>Additional Error Properties<a href="#additional-error-properties" class="html_headingAnchorLink__1Q-xX" aria-hidden="true"></a></h2><p>Before throwing an error, you can set additional properties that provide more context, enabling our platform to respond appropriately and provide meaningful feedback to users.</p><div class="reference-table_referenceTableWrapper___5de3"><div class="reference-table_toggleLayout__13NAd"><button class="toggle-layout_button__2Sx6u" disabled="" title="Table view"><img src="/img/icons/reference-table.svg" alt="Table view"/></button><button class="toggle-layout_button__2Sx6u" title="Switch to list view"><img src="/img/icons/reference-list.svg" alt="Switch to list view"/></button></div><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="reference-table_preLine__1NAPb"><span>code</span></code></td><td>string</td><td><p>A string that identifies the type of error. Most errors that occur in Node.js already have a code, but if you&#x27;re throwing a new error, then we recommend that you use one of our pre-defined <a href="/docs/error-handling#error-codes">Error Codes</a> below</p></td></tr><tr><td><code class="reference-table_preLine__1NAPb"><span>statusCode</span></code></td><td>number</td><td><p>The numeric status code associated with the error, if any. For errors that originate from an HTTP response, this should be the HTTP status code (e.g. 400, 404, 500)</p></td></tr><tr><td><code class="reference-table_preLine__1NAPb"><span>externalErrors</span></code></td><td>string[]</td><td><p>If the error is the result of calling an external service, then put any error messages that were returned by the service here.</p></td></tr><tr><td><code class="reference-table_preLine__1NAPb"><span>externalWarnings</span></code></td><td>string[]</td><td><p>If the error is the result of calling an external service, then put any warning messages that were returned by the service here.</p></td></tr><tr><td><code class="reference-table_preLine__1NAPb"><span>originalError</span></code></td><td><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a></p></td><td><p>The original error that occurred, if any. This is especially useful for debugging, since it will allow you to see the error message and stack trace where the problem occurred.</p></td></tr><tr><td><code class="reference-table_preLine__1NAPb"><span>*</span></code></td><td>any value</td><td><p>Any additional properties you add to the error will be logged, which is useful for debugging.</p></td></tr></tbody></table></div><h2 class="html_h2__RJd8Q "><span id="error-codes" class="html_headingAnchor__2mM-B" aria-hidden="true"></span>Error Codes<a href="#error-codes" class="html_headingAnchorLink__1Q-xX" aria-hidden="true"></a></h2><p>Most errors that occur in Node.js have a <code>code</code> property. When throwing your own errors, we encourage you to include a <code>code</code> as well. Using one of the following codes will help the ShipEngine Connect platform know how to handle your error appropriately.</p><div class="reference-table_referenceTableWrapper___5de3"><div class="reference-table_toggleLayout__13NAd"><button class="toggle-layout_button__2Sx6u" disabled="" title="Table view"><img src="/img/icons/reference-table.svg" alt="Table view"/></button><button class="toggle-layout_button__2Sx6u" title="Switch to list view"><img src="/img/icons/reference-list.svg" alt="Switch to list view"/></button></div><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code class="reference-table_preLine__1NAPb"><span>ERR_INVALID</span></code></td><td><p>You should use this code to indicate a validation error. For example, your app may only allow certain values under specific conditions, or a field may be conditionally required.</p></td></tr><tr><td><code class="reference-table_preLine__1NAPb"><span>ERR_UNAUTHORIZED</span></code></td><td><p>Use this code to indicate an authentication or authorization error. For example, if the <code>transaction.session</code> object is missing some required data or the session has expired.</p></td></tr><tr><td><code class="reference-table_preLine__1NAPb"><span>ERR_EXTERNAL</span></code></td><td><p>You should use this code for any error that is the result of calling an external service, such as an API. This lets ShipEngine Connect know that the error came from a downstream service rather than directly in your app.</p><p>You should also set the <code>statusCode</code> property if possible to indicate the type of external error that occurred. For HTTP errors, you can use the HTTP status code (e.g. 400, 404, 500). For APIs that don&#x27;t use HTTP status codes, we recomend using the most appropriate <a href="https://httpstatuses.com/">HTTP status code</a> and also put the raw error/warning messages in <code>externalErrors</code> or <code>externalWarnings</code>.</p></td></tr><tr><td><code class="reference-table_preLine__1NAPb"><span>ERR_APP_ERROR</span></code></td><td><p>This is a generic error code that simply indicates that the error was <em>intentionally</em> thrown by your app, as opposed to an unexpected error that occurred due to a bug or runtime exception.</p></td></tr></tbody></table></div></div><div class="section-group right-group"><h3 class="html_h3__1_Y-e "><span id="validation-error-example" class="html_headingAnchor__2mM-B" aria-hidden="true"></span>Validation Error Example<a href="#validation-error-example" class="html_headingAnchorLink__1Q-xX" aria-hidden="true"></a></h3><p>This example demonstrates throwing a validation error with additional properties.</p><div class="code-wrapper_codeWrapper__ssrf6"><pre class="language-javascript code-wrapper_selectedCodeBlock__ISwuh code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token property-access">weight</span><span class="token punctuation">.</span><span class="token property-access">grams</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain">  </span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">assign</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain">    </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Weight cannot exceed 100 kilograms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain">      code</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;ERR_INVALID&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain">      actualWeight</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token property-access">weight</span><span class="token punctuation">.</span><span class="token property-access">grams</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain">      maxWeight</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div></code></pre><form class="invisible code-toolbar_codeToolbar__2r1kC"><button class="button-small">Copy</button><img src="/img/logos/languages/javascript.svg" alt="JavaScript" class="language-list_languageIcon__1MRJD language-list_javascript__1RPTJ"/></form></div><h3 class="html_h3__1_Y-e "><span id="external-error-example" class="html_headingAnchor__2mM-B" aria-hidden="true"></span>External Error Example<a href="#external-error-example" class="html_headingAnchorLink__1Q-xX" aria-hidden="true"></a></h3><p>This example rethrows an error from an external service, but first it adds additional properties.</p><div class="code-wrapper_codeWrapper__ssrf6"><pre class="language-javascript code-wrapper_selectedCodeBlock__ISwuh code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">try</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain">  </span><span class="token comment">// Some code that makes an HTTP call</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain"></span><span class="token keyword">catch</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">error</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain">  error</span><span class="token punctuation">.</span><span class="token property-access">code</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;ERR_EXTERNAL&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain">  error</span><span class="token punctuation">.</span><span class="token property-access">statusCode</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> httpResponse</span><span class="token punctuation">.</span><span class="token property-access">status</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain">  error</span><span class="token punctuation">.</span><span class="token property-access">externalErrors</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">httpResponse</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">errorMessage</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">  error</span><span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> httpResponse</span><span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  </span><span class="token keyword">throw</span><span class="token plain"> error</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div></code></pre><form class="invisible code-toolbar_codeToolbar__2r1kC"><button class="button-small">Copy</button><img src="/img/logos/languages/javascript.svg" alt="JavaScript" class="language-list_languageIcon__1MRJD language-list_javascript__1RPTJ"/></form></div></div></div><h2 class="html_h2__RJd8Q "><span id="error-classes" class="html_headingAnchor__2mM-B" aria-hidden="true"></span>Error Classes<a href="#error-classes" class="html_headingAnchorLink__1Q-xX" aria-hidden="true"></a></h2><p>In addition to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects#Error_objects">JavaScript&#x27;s built-in error classes</a>, ShipEngine Connect includes several <a href="/docs/error-handling#error-classes">error classes</a> you can use in your app. Each class corresponds to one of the <a href="/docs/error-handling#error-codes">error codes</a> listed above and automatically sets the <code>code</code> property for you. You can also pass <a href="/docs/error-handling#additional-error-properties">additional error properties</a> to the constructor.</p><div class="section"><div class="section-group left-group"><h3 class="html_h3__1_Y-e "><span id="validationerror" class="html_headingAnchor__2mM-B" aria-hidden="true"></span><code>ValidationError</code><a href="#validationerror" class="html_headingAnchorLink__1Q-xX" aria-hidden="true"></a></h3><p>You should use this class for validation errors. For example, your app may only allow certain values under specific conditions, or a field may be conditionally required.</p><h4 class="html_h4__3H9C2 "><code>constructor(message | props)</code></h4><p>The <code>ValidationError</code> constructor can accept a string (the error message) or an object containing <a href="/docs/error-handling#additional-error-properties">additional error properties</a>.</p></div><div class="section-group right-group"><div class="code-wrapper_codeWrapper__ssrf6"><pre class="language-javascript code-wrapper_selectedCodeBlock__ISwuh code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token known-class-name class-name">ValidationError</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@shipengine/connect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain"></span><span class="token comment">// This only sets the `code` and `message` properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ValidationError</span><span class="token punctuation">(</span><span class="token string">&quot;The package weight exceeds the maximum allowed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain"></span><span class="token comment">// This sets the `code`, `message`, and additional properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ValidationError</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">  message</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;The package weight exceeds the maximum allowed&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  actualWeight</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token property-access">weight</span><span class="token punctuation">.</span><span class="token property-access">ounces</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain">  maxWeight</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">2400</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="11"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></code></pre><pre class="language-typescript code-wrapper_codeBlock__lj1ex code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token known-class-name class-name">ValidationError</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&quot;@shipengine/connect&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain"></span><span class="token comment">// This only sets the `code` and `message` properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ValidationError</span><span class="token punctuation">(</span><span class="token string">&quot;The package weight exceeds the maximum allowed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain"></span><span class="token comment">// This sets the `code`, `message`, and additional properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ValidationError</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">  message</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;The package weight exceeds the maximum allowed&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  actualWeight</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token keyword">package</span><span class="token punctuation">.</span><span class="token property-access">weight</span><span class="token punctuation">.</span><span class="token property-access">ounces</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain">  maxWeight</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">2400</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="11"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></code></pre><form class="invisible code-toolbar_codeToolbar__2r1kC"><button class="button-small">Copy</button><span class="select language-list_languageList__3_g6S language-list_javascript__1RPTJ select_select__2imJS " role="listbox" tabindex="0"><span class="select-label select_selectLabel__2aKYc">javascript</span><span class="select-options select_selectOptions__1F77G "><div class="language-list_language__3ZpVE language-list_javascript__1RPTJ select_option__3vGSw" role="option" aria-selected="true" tabindex="0" data-value="javascript">JavaScript</div><div class="language-list_language__3ZpVE language-list_typescript__1WIoa select_option__3vGSw" role="option" aria-selected="false" tabindex="0" data-value="typescript">TypeScript</div></span></span></form></div></div></div><div class="section"><div class="section-group left-group"><h3 class="html_h3__1_Y-e "><span id="unauthorizederror" class="html_headingAnchor__2mM-B" aria-hidden="true"></span><code>UnauthorizedError</code><a href="#unauthorizederror" class="html_headingAnchorLink__1Q-xX" aria-hidden="true"></a></h3><p>You should use this class to indicate an authentication or authorization error. For example, if the <code>transaction.session</code> object is missing some required data or the session has expired.</p><h4 class="html_h4__3H9C2 "><code>constructor(message | props)</code></h4><p>The <code>UnauthorizedError</code> constructor can accept a string (the error message) or an object containing <a href="/docs/error-handling#additional-error-properties">additional error properties</a>.</p></div><div class="section-group right-group"><div class="code-wrapper_codeWrapper__ssrf6"><pre class="language-javascript code-wrapper_selectedCodeBlock__ISwuh code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token known-class-name class-name">UnauthorizedError</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@shipengine/connect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain"></span><span class="token comment">// This only sets the `code` and `message` properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">UnauthorizedError</span><span class="token punctuation">(</span><span class="token string">&quot;Your session has expired&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain"></span><span class="token comment">// This sets the `code`, `message`, and additional properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">UnauthorizedError</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">  message</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Your session has expired&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  sessionID</span><span class="token punctuation">:</span><span class="token plain"> session</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain">  expiredAt</span><span class="token punctuation">:</span><span class="token plain"> ession</span><span class="token punctuation">.</span><span class="token property-access">expireDateTime</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="11"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></code></pre><pre class="language-typescript code-wrapper_codeBlock__lj1ex code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token known-class-name class-name">UnauthorizedError</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&quot;@shipengine/connect&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain"></span><span class="token comment">// This only sets the `code` and `message` properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">UnauthorizedError</span><span class="token punctuation">(</span><span class="token string">&quot;Your session has expired&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain"></span><span class="token comment">// This sets the `code`, `message`, and additional properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">UnauthorizedError</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">  message</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Your session has expired&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  sessionID</span><span class="token punctuation">:</span><span class="token plain"> session</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain">  expiredAt</span><span class="token punctuation">:</span><span class="token plain"> ession</span><span class="token punctuation">.</span><span class="token property-access">expireDateTime</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="11"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></code></pre><form class="invisible code-toolbar_codeToolbar__2r1kC"><button class="button-small">Copy</button><span class="select language-list_languageList__3_g6S language-list_javascript__1RPTJ select_select__2imJS " role="listbox" tabindex="0"><span class="select-label select_selectLabel__2aKYc">javascript</span><span class="select-options select_selectOptions__1F77G "><div class="language-list_language__3ZpVE language-list_javascript__1RPTJ select_option__3vGSw" role="option" aria-selected="true" tabindex="0" data-value="javascript">JavaScript</div><div class="language-list_language__3ZpVE language-list_typescript__1WIoa select_option__3vGSw" role="option" aria-selected="false" tabindex="0" data-value="typescript">TypeScript</div></span></span></form></div></div></div><div class="section"><div class="section-group left-group"><h3 class="html_h3__1_Y-e "><span id="externalerror" class="html_headingAnchor__2mM-B" aria-hidden="true"></span><code>ExternalError</code><a href="#externalerror" class="html_headingAnchorLink__1Q-xX" aria-hidden="true"></a></h3><p>You should use this class when the error is the result of calling an external service, such as an API. This lets ShipEngine Connect know that the error came from a downstream service rather than directly in your app.</p><p>You should also set the <code>statusCode</code> property if possible to indicate the type of external error that occurred. For HTTP errors, you can use the HTTP status code (e.g. 400, 404, 500). For APIs that don&#x27;t use HTTP status codes, we recomend using the most appropriate <a href="https://httpstatuses.com/">HTTP status code</a> and also put the raw error/warning messages in <code>externalErrors</code> or <code>externalWarnings</code>.</p><h4 class="html_h4__3H9C2 "><code>constructor(message | props)</code></h4><p>The <code>ExternalError</code> constructor can accept a string (the error message) or an object containing <a href="/docs/error-handling#additional-error-properties">additional error properties</a>.</p></div><div class="section-group right-group"><div class="code-wrapper_codeWrapper__ssrf6"><pre class="language-javascript code-wrapper_selectedCodeBlock__ISwuh code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token known-class-name class-name">ExternalError</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@shipengine/connect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain"></span><span class="token comment">// This only sets the `code` and `message` properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ExternalError</span><span class="token punctuation">(</span><span class="token string">&quot;The request exceeded the rate limit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain"></span><span class="token comment">// This sets the `code`, `message`, and additional properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ExternalError</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">  message</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;The request exceeded the rate limit&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  statusCode</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">429</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain">  externalErrors</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">httpResponse</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">errorMessage</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="11"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></code></pre><pre class="language-typescript code-wrapper_codeBlock__lj1ex code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token known-class-name class-name">ExternalError</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&quot;@shipengine/connect&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain"></span><span class="token comment">// This only sets the `code` and `message` properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ExternalError</span><span class="token punctuation">(</span><span class="token string">&quot;The request exceeded the rate limit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain"></span><span class="token comment">// This sets the `code`, `message`, and additional properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">ExternalError</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">  message</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;The request exceeded the rate limit&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  statusCode</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">429</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain">  externalErrors</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">httpResponse</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">errorMessage</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="11"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></code></pre><form class="invisible code-toolbar_codeToolbar__2r1kC"><button class="button-small">Copy</button><span class="select language-list_languageList__3_g6S language-list_javascript__1RPTJ select_select__2imJS " role="listbox" tabindex="0"><span class="select-label select_selectLabel__2aKYc">javascript</span><span class="select-options select_selectOptions__1F77G "><div class="language-list_language__3ZpVE language-list_javascript__1RPTJ select_option__3vGSw" role="option" aria-selected="true" tabindex="0" data-value="javascript">JavaScript</div><div class="language-list_language__3ZpVE language-list_typescript__1WIoa select_option__3vGSw" role="option" aria-selected="false" tabindex="0" data-value="typescript">TypeScript</div></span></span></form></div></div></div><div class="section"><div class="section-group left-group"><h3 class="html_h3__1_Y-e "><span id="apperror" class="html_headingAnchor__2mM-B" aria-hidden="true"></span><code>AppError</code><a href="#apperror" class="html_headingAnchorLink__1Q-xX" aria-hidden="true"></a></h3><p>This is a generic error class that simply distinguishes errors that are <em>intentionally</em> thrown by your app, as opposed to an unexpected error that occurred due to a bug or runtime exception.</p><h4 class="html_h4__3H9C2 "><code>constructor(message | props)</code></h4><p>The <code>AppError</code> constructor can accept a string (the error message) or an object containing <a href="/docs/error-handling#additional-error-properties">additional error properties</a>.</p></div><div class="section-group right-group"><div class="code-wrapper_codeWrapper__ssrf6"><pre class="language-javascript code-wrapper_selectedCodeBlock__ISwuh code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token known-class-name class-name">AppError</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@shipengine/connect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain"></span><span class="token comment">// This only sets the `code` and `message` properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">AppError</span><span class="token punctuation">(</span><span class="token string">&quot;Unable to load app data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain"></span><span class="token comment">// This sets the `code`, `message`, and additional properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">AppError</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">  message</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Unable to load app data&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  dataSource</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;./app-data.xml&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></code></pre><pre class="language-typescript code-wrapper_codeBlock__lj1ex code-block_pre__2tvH1"><code class="code-block_codeBlock__18cdI"><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="1"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token known-class-name class-name">AppError</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&quot;@shipengine/connect&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="2"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="3"></span><span class="token plain"></span><span class="token comment">// This only sets the `code` and `message` properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="4"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">AppError</span><span class="token punctuation">(</span><span class="token string">&quot;Unable to load app data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="5"></span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="6"></span><span class="token plain"></span><span class="token comment">// This sets the `code`, `message`, and additional properties</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="7"></span><span class="token plain"></span><span class="token keyword">throw</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">AppError</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="8"></span><span class="token plain">  message</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;Unable to load app data&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="9"></span><span class="token plain">  dataSource</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&quot;./app-data.xml&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="line_line__3fO_7 "><span class="line_lineNumber__trKSL" data-line-number="10"></span><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></code></pre><form class="invisible code-toolbar_codeToolbar__2r1kC"><button class="button-small">Copy</button><span class="select language-list_languageList__3_g6S language-list_javascript__1RPTJ select_select__2imJS " role="listbox" tabindex="0"><span class="select-label select_selectLabel__2aKYc">javascript</span><span class="select-options select_selectOptions__1F77G "><div class="language-list_language__3ZpVE language-list_javascript__1RPTJ select_option__3vGSw" role="option" aria-selected="true" tabindex="0" data-value="javascript">JavaScript</div><div class="language-list_language__3ZpVE language-list_typescript__1WIoa select_option__3vGSw" role="option" aria-selected="false" tabindex="0" data-value="typescript">TypeScript</div></span></span></form></div></div></div><div class="pager_pager__2aTfW"><a class="button button-small button-secondary" href="/docs/typescript">Previous: Developing in TypeScript</a><a class="button button-small button-secondary" href="/docs/testing">Next: Testing</a></div></article></main></div></div><footer class="footer_siteFooter__ugPCM"><div class="centered-content"><nav class="footer_footerNav__2pDuj"><div class="footer_column__21zWj"><div class="footer_columnHeading__RUP2K">Products</div><ul><li><a href="https://www.shipengine.com/shipping/">Shipping</a></li></ul><div class="footer_columnHeading__RUP2K">Pricing</div><ul><li><a href="https://www.shipengine.com/pricing/">Plans</a></li></ul></div><div class="footer_column__21zWj"><div class="footer_columnHeading__RUP2K">Solutions</div><ul><li><a href="https://www.shipengine.com/e-commerce-platforms/">E-commerce Platforms</a></li><li><a href="https://www.shipengine.com/third-party-logistics/">Third Party Logistics</a></li><li><a href="https://www.shipengine.com/brands/">Brands</a></li></ul><div class="footer_columnHeading__RUP2K">Integrations</div><ul><li><a href="https://www.shipengine.com/integrations/carriers/">Carriers</a></li><li><a href="https://www.shipengine.com/integrations/marketplaces/">Marketplaces</a></li></ul></div><div class="footer_column__21zWj"><div class="footer_columnHeading__RUP2K">Developers</div><ul><li><a href="https://www.shipengine.com/docs/">Documentation</a></li><li><a href="https://status.shipengine.com/">API Status</a></li></ul></div><div class="footer_column__21zWj"><div class="footer_columnHeading__RUP2K">Company</div><ul><li><a href="https://www.shipengine.com/about/">About</a></li><li><a href="https://www.shipengine.com/customers/">Customers</a></li><li><a href="https://www.shipengine.com/blog/">Blog</a></li><li><a href="https://www.shipengine.com/contact/">Contact</a></li><li><a href="https://help.shipengine.com/">Support</a></li><li><a href="https://gear.shipengine.com/">ShipEngine Gear Shop</a></li><li><a href="https://www.shipengine.com/privacy-policy/">Privacy Policy</a></li><li><a href="https://www.shipengine.com/terms-of-service/">Terms of Service</a></li></ul></div><div class="footer_socialMediaIcons__1UaL_"><div class="heading visually-hidden">Social Media</div><ul><li><a href="https://www.instagram.com/shipengineapi/" class="footer_instagram__HpTyY"><span class="visually-hidden">ShipEngine on Instagram</span></a></li><li><a href="https://www.facebook.com/ShipEngineAPI/" class="footer_facebook__3HupI"><span class="visually-hidden">ShipEngine on Facebook</span></a></li><li><a href="https://twitter.com/ShipEngineAPI" class="footer_twitter__I4Q8B"><span class="visually-hidden">ShipEngine on Twitter</span></a></li><li><a href="https://www.linkedin.com/company/shipengine/" class="footer_linkedin__2R042"><span class="visually-hidden">ShipEngine on LinkedIn</span></a></li></ul></div></nav><p class="footer_copyright__2o-gO"> 2019 Shipengine. All rights reserved</p></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/docs/error-handling","query":{},"buildId":"xm6gAVI8G4BgGZs7KyjTp","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>