---
title: getSalesOrderByDate Method
description: This method returns detailed information about sales orders, filtered by time range.
---


`getSalesOrderByDate()`
===========================
This method returns detailed information about sales orders, filtered by time range.


Syntax
-----------------------------------------------
<CodeWrapper>
```javascript
module.exports = async function getSalesOrderByDate(transaction, range) {
  // Your code here
}
```

```typescript
import { Transaction, SalesOrderTimeRange, SalesOrderArray } from "@shipengine/connect";

export default async function getSalesOrderByDate(
  transaction: Transaction,
  range: SalesOrderTimeRange
): Promise<SalesOrderArray> {
  // Your code here
}
```
</CodeWrapper>



Parameters
-----------------------------------------------

### `transaction`
A [transaction object](../transaction.mdx) containing information about the transaction and session state.

### `range`
Specifies a date/time range to retrieve sales orders for.

<Reference>

  <Field name="startDateTime" nullable={true}>
    <Type>
      [DateTime](./../date-time.mdx)
    </Type>
    <Description>
      The start date/time of the range.
    </Description>
  </Field>

  <Field name="endDateTime" nullable={true}>
    <Type>
      [DateTime](./../date-time.mdx)
    </Type>
    <Description>
      The end date/time of the range.
    </Description>
  </Field>

  <Field name="toString" nullable={false}>
    <Type>
      method
    </Type>
    <Description>
      A method that returns the time range as a string.
    </Description>
  </Field>

  <Field name="paging" type="object" nullable={false}>
    <Description>
      An object that indicates that page preferences for the items that are returned from this method.
    </Description>
  </Field>

  <Field name="paging.pageSize" type="number" nullable={false}>
    <Description>
      The desired maximum number of items to return. This value will always be provided and will be greater than zero.
    </Description>
  </Field>

  <Field name="paging.pageNumber" type="number" nullable={true}>
    <Description>
      The desired page number to return. This value will always be provided and will be zero or greater.
    </Description>
  </Field>

  <Field name="paging.pageCount" type="number" nullable={false}>
    <Description>
      he desired maximum number of pages to return. This value is optional.
    </Description>
  </Field>

  <Field name="paging.cursor" type="string" nullable={true}>
    <Description>
      Identifies the next page of results to return. This value is optional.
    </Description>
  </Field>

</Reference>



Return Value
-----------------------------------------------
### `salesOrders`
An array of sales orders matching the date range.

<Reference>

  <Field name="id" type="string" required={true}>
    <Description>
      The marketplace's unique ID for the sales order. This string must be between `1` and `100` characters and must not contain newline characters.
    </Description>
  </Field>

  <Field name="identifiers" type="object" required={false}>
    <Description>
      Your own identifiers for this sales order.
    </Description>
  </Field>

  <Field name="createdDateTime" required={true}>
    <Type>
      [DateTime](./../date-time.mdx), <br/>
      [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date), or a string representation of a date in [ISO](https://www.w3.org/TR/NOTE-datetime) format.
    </Type>
    <Description>
      The date/time that the sales order was originally placed.
    </Description>
  </Field>

  <Field name="status" type="string" required={true}>
    <Description>
      The current status of this sales order. Valid values include the following:
      * `awaiting_payment` - The sales order is awaiting payment.
      * `awaiting_shipment` - This sales order is awaiting shipment.
      * `on_hold` - This sales order is on hold.
      * `completed` - Thie sales order is completed.
      * `cancelled` - This sales order has been cancelled.
    </Description>
  </Field>

  <Field name="paymentMethod" type="string" required={false}>
    <Description>
      Indicates how the customer has paid for the order. Valid values include the following:
      * `cash` - The sales order was paid for with cash.
      * `cash_equivalent` - The sales order was paid for with guaranteed funds, such as a cashier's check or money order.
      * `check` - This sales order was paid for with a check.
      * `credit_card` - This sales order was paid for with a credit card.
      * `bank_transfer` - This sales order was paid for with a bank transfer.
    </Description>
  </Field>

  <Field name="orderURL" required={false}>
    <Type>
      [URL](https://nodejs.org/api/url.html) or string
    </Type>
    <Description>
      The URL of a webpage where the customer can view the order.  Must be a valid HTTP or HTTPS url.
    </Description>
  </Field>

  <Field name="buyer" type="object" required={true}>
    <Description>
      The buyer who bought the order. This is not necessarily the same person as the `shipTo`.
    </Description>
  </Field>

  <Field name="buyer.id" type="string" required={true}>
    <Description>
      The marketplace's unique ID for the buyer. This string must be between `1` and `100` characters and must not contain newline characters.
    </Description>
  </Field>

  <Field name="buyer.name" required={true}>
    <Type>
      string or object
    </Type>
    <Description>
      The name of the buyer. This property can be set with a string or an object. The additional properties that must be included in the object are described below.
    </Description>
  </Field>

  <Field name="buyer.name.title" type="string" required={false}>
    <Description>
      The title of the buyer (eg "Mr", "Mrs", "Dr"). This string must be between `0` and `100` characters and must not include newline characters.
    </Description>
  </Field>

  <Field name="buyer.name.given" type="string" required={true}>
    <Description>
      The first name of the buyer. This string must be between `1` and `100` characters and must not include newline characters.
    </Description>
  </Field>

  <Field name="buyer.name.middle" type="string" required={false}>
    <Description>
      The middle name of the signer. This string must be between `0` and `100` characters and must not include newline characters.
    </Description>
  </Field>

  <Field name="buyer.name.family" type="string" required={false}>
    <Description>
      The last name or family name of the buyer. This string must be between `0` and `100` characters and must not include newline characters.
    </Description>
  </Field>

  <Field name="buyer.name.suffix" type="string" required={false}>
    <Description>
      The suffix of the buyer (eg "Sr", "Jr", "IV"). This string must be between `0` and `100` characters and must not include newline characters.
    </Description>
  </Field>

  <Field name="buyer.email" type="string" required={false}>
    <Description>
      The email address of the buyer. This string must be a valid email address.
    </Description>
  </Field>

  <Field name="buyer.phoneNumber" type="string" required={false}>
    <Description>
      The phone number of the buyer. This string must be between `0` and `30` characters and must not include newline characters.
    </Description>
  </Field>

  <Field name="buyer.address" required={false}>
    <Type>
      [Address](./../address.mdx)
    </Type>
    <Description>
      The buyer's address.
    </Description>
  </Field>

  <Field name="charges" required={true}>
    <Type>
      [Charge](./../charge.mdx)[]
    </Type>
    <Description>
      The breakdown of charges for this sales order.
    </Description>
  </Field>

  <Field name="requestedFulfillments" type="object[]" required={true}>
    <Description>
      An array of fulfillment requests.
    </Description>
  </Field>

  <Field name="requestedFulfillments[].shippingPreferences" required={false}>
    <Type>
      [ShippingPreferences](./../shipping-preferences.mdx)
    </Type>
    <Description>
      Preferences on how this order should be fulfilled.
    </Description>
  </Field>

  <Field name="requestedFulfillments[].items" required={true}>
    <Type>
      [SalesOrderItem](./../sales-order-item.mdx)[]
    </Type>
    <Description>
      The items in this sales order.
    </Description>
  </Field>

  <Field name="requestedFulfillments[].shipTo" required={true}>
    <Type>
      [address + contact object](./../address.mdx)
    </Type>
    <Description>
      The address where the sales order should be shipped. Be sure to include the extra contact info fields as indicated in the reference doc.
    </Description>
  </Field>

  <Field name="notes" type="object[]" required={false}>
    <Description>
      An array of objects containing additional information about this sales order.
    </Description>
  </Field>

  <Field name="notes[].type" required={true}>
    <Type>
      [NotesType](./../common-types.mdx#notes-types)
    </Type>
    <Description>
      The type for this note.
    </Description>
  </Field>

  <Field name="notes[].text" type="string" required={true}>
    <Description>
      The note text itself. This string must be between `0` and `5000` characters.
    </Description>
  </Field>

  <Field name="metadata" type="object" required={false}>
    <Description>
      Custom data about this sales order that was persisted by ShipEngine Connect. Must be JSON serializable.
    </Description>
  </Field>

  <Field name="paging" type="object" required={false}>
    <Description>
      An object that indicates that page preferences for the items that are returned from this method.
    </Description>
  </Field>

  <Field name="paging.pageSize" type="number" required={false}>
    <Description>
      The desired maximum number of items to return. This value will always be provided and will be greater than zero.
    </Description>
  </Field>

  <Field name="paging.pageNumber" type="number" required={false}>
    <Description>
      The desired page number to return. This value will always be provided and will be zero or greater.
    </Description>
  </Field>

  <Field name="paging.pageCount" type="number">
    <Description>
      he desired maximum number of pages to return. This value is optional.
    </Description>
  </Field>

  <Field name="paging.cursor" type="string" required={false}>
    <Description>
      Identifies the next page of results to return. This value is optional.
    </Description>
  </Field>

</Reference>



Example
-----------------------------------------------
<CodeWrapper>
```javascript
async function getSalesOrdersByDate(transaction, range) {
  // STEP 1: Validation
  // Add any desired validation here

  // STEP 2: Create the data that the order's API expects
  const data = {
    operation: "retrieve_sales_orders_by_date",
    session_id: transaction.session.id,
    start_date:  range.startDateTime,
    end_date: range.endDateTime
  };

  // STEP 3: Call the order source's API
  const response = await apiClient.request({ data });

  // Step 4: Create the output data that ShipEngine expects
  return formatSalesOrders(response.data);
}

function formatSalesOrders(salesOrders) {

  return salesOrders.map(salesOrder => {
    return {
      id: salesOrder.id,
      createdDateTime: salesOrder.createdDateTime,
      status: mapSalesOrderStatus(salesOrder.status),
      paymentMethod: mapPaymentMethod(salesOrder.payment.method),
      buyer: {
        id: salesOrder.buyer.id,
        name: salesOrder.buyer.name
      },
      requestedFulfillments: [
        {
          items: salesOrder.shipping_items.map((item) => {
            return {
              id: item.id,
              name: item.name,
              quantity: {
                value: item.quantity,
                unit: "ea"
              },
              unitPrice: {
                value: item.price_per_unit,
                currency: "USD"
              }
            }
        }),
        shipTo: salesOrder.ship_to
      }]
    }
  });
}
```
```typescript
export default async function getSalesOrdersByDate(
  transaction: Transaction<Session>,
  range: SalesOrderTimeRange,
): Promise<Iterable<SalesOrder>> {
  // STEP 1: Validation
  // Add any desired validation here

  // STEP 2: Create the data that the order's API expects
  const data = {
    operation: "retrieve_sales_orders_by_date",
    session_id: transaction.session.id,
    start_date:  range.startDateTime,
    end_date: range.endDateTime
  };

  // STEP 3: Call the order source's API
  const response = await apiClient.request<RetrieveSalesOrdersByDateResponse>({ data });

  // Step 4: Create the output data that ShipEngine expects
  return formatSalesOrders(response.data);
}
```
</CodeWrapper>
