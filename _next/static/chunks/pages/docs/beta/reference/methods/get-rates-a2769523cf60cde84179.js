(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3444],{3190:function(e,t,a){"use strict";a.r(t),a.d(t,{title:function(){return p},description:function(){return m},createdAt:function(){return l},modifiedAt:function(){return c},default:function(){return b}});var n=a(9016),r=a(3104),i=a(6687),o=a(2320),s=a(1783),d=["components"],p=(i.createElement,"GetRates Method"),m="This method creates a new label.",l=new Date(1653338063533.9841),c=new Date(1653338063533.9841),k=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)}},h=k("CodeWrapper"),u=k("Reference"),y=k("Field"),f=k("Type"),w=k("Description"),T=function(e){return(0,o.kt)(s.Z,(0,r.Z)({title:"GetRates Method",description:"This method creates a new label.",createdAt:new Date(1653338063534),modifiedAt:new Date(1653338063534)},e))};function b(e){var t=e.components,a=(0,n.Z)(e,d);return(0,o.kt)(T,(0,r.Z)({},a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h1"},"GetRates()")),(0,o.kt)("p",{markdown:!0},"This method get possible rates for labels between two addresses."),(0,o.kt)("h2",{markdown:!0},"Syntax"),(0,o.kt)(h,{mdxType:"CodeWrapper"},(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-javascript",markdown:!0,parentName:"pre"},"module.exports = async function GetRates(request) {\n  // Your code here\n}\n")),(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-typescript",markdown:!0,parentName:"pre"},'import { GetRatesRequest, GetRatesResponse } from "@shipengine/connect-carrier-api";\n\nexport default async function GetRates(\n  request: GetRatesRequest\n): Promise<GetRatesResponse> {\n  // Your code here\n}\n'))),(0,o.kt)("h2",{markdown:!0},"Parameters"),(0,o.kt)("h3",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h3"},"GetRatesRequest")),(0,o.kt)("p",{markdown:!0},"An object containing information about the shipment to get rates for. The more information provided the more accurate rates (usually)."),(0,o.kt)(u,{mdxType:"Reference"},(0,o.kt)(y,{name:"metadata",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/metadata",markdown:!0,parentName:"p"},"metadata object"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"This object should contain all of the necessary properties needed to make authenticated requests with the carrier.\nEvery property included here will be persisted by ShipEngine Connect and included on each subsequent request from this user."))),(0,o.kt)(y,{name:"service_code",type:"string",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Code used to map to what the carrier uses to identify the service."))),(0,o.kt)(y,{name:"ship_datetime",type:"string",nullable:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"When the package is expected to ship. Not guaranteed to be in the future.\nFormatted per the ",(0,o.kt)("a",{href:"https://tools.ietf.org/html/rfc3339",markdown:!0,parentName:"p"},"https://tools.ietf.org/html/rfc3339")," spec. Will always be in UTC."))),(0,o.kt)(y,{name:"confirmation",type:"string",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/common-types#delivery-confirmation-types",markdown:!0,parentName:"p"},"confirmation type"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The requested ",(0,o.kt)("a",{href:"/docs/beta/reference/common-types",markdown:!0,parentName:"p"},"confirmation"),' for this label.\nIf the field is absent it should be interpreted as "None".'))),(0,o.kt)(y,{name:"advanced_options",type:"object",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"This is a schemaless object. It is for open ended customizations unique to particular carriers.\nIf the field is absent it should be interpreted as the default value for any applicable options, e.g. false for booleans."))),(0,o.kt)(y,{name:"insurance_provider",type:"string",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The insurance provider for the insured value of the label,\n",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"carrier")," indicates that the user is requesting insurance from the carrier directly,\nanything else is extra information that should not result in a transaction."),(0,o.kt)("p",{markdown:!0},"Valid values include the following:"),(0,o.kt)("ul",{markdown:!0},(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"None")),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"Shipstation")),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"Carrier")),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"External"))))),(0,o.kt)(y,{name:"is_return_label",type:"boolean",nullable:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether the label is a return."))),(0,o.kt)(y,{name:"is_residential",type:"boolean",nullable:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether the label is to a residential address."))),(0,o.kt)(y,{name:"packages",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/package",markdown:!0,parentName:"p"},"package object[]"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"All the packages that make up this shipment. There will always be at least one package defined."))),(0,o.kt)(y,{name:"customs",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/customs",markdown:!0,parentName:"p"},"customs object"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The customs associated with this shipment."))),(0,o.kt)(y,{name:"ship_to",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/address#shipping-address-object",markdown:!0,parentName:"p"},"shipping address object"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The shipment recipient's address. It may or may not have been validated."))),(0,o.kt)(y,{name:"ship_from",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/address#shipping-address-object",markdown:!0,parentName:"p"},"shipping address object"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The shipment sender's address. It may or may not have been validated."))),(0,o.kt)(y,{name:"pickup_location",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/address#pickup-location-object",markdown:!0,parentName:"p"},"pickup location object"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"If this is a pickup shipment, a pickup location will be populated for where the recipient can pickup the shipment."))),(0,o.kt)(y,{name:"ship_from_display",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/address#shipping-address-object",markdown:!0,parentName:"p"},"shipping address object"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The address that should be displayed as the return address, only if the carrier supports this functionality."))),(0,o.kt)(y,{name:"next_day",type:"boolean",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether this shipment is expected to use a next day service class.\nIf the field is absent it should be interpreted as false"))),(0,o.kt)(y,{name:"international",type:"boolean",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates Whether the shipment is international."))),(0,o.kt)(y,{name:"fulfillment_plan_details",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/fulfillment-plan-details#fulfillment-plan-details-object",markdown:!0,parentName:"p"},"fulfillment plan details object"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"This model contains information about the fulfillment plan. This is not provided for all rate requests.")))),(0,o.kt)("h2",{markdown:!0},"Return Value"),(0,o.kt)("h3",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h3"},"GetRatesResponse")),(0,o.kt)("p",{markdown:!0},"This object model represents the response from a successful get rates request."),(0,o.kt)(u,{mdxType:"Reference"},(0,o.kt)(y,{name:"metadata",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/metadata",markdown:!0,parentName:"p"},"metadata object"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"This object should contain all of the necessary properties needed to make authenticated requests with the carrier.\nEvery property included here will be persisted by ShipEngine Connect and included on each subsequent request from this user."))),(0,o.kt)(y,{name:"rates",type:"object[]",required:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"A list of rates for shipping services. If you use service codes there may be exactly one rate returned for the requested service.\nIf you use service codes there may be more than one rate to provide additional options.\nIf you don't use service codes there may be one or more rates.\nIf you don't provide real time rates you should return a single hard coded zero value rate."))),(0,o.kt)(y,{name:"rates[].service_code",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The service code uniquely identifies a shipping service that you offer. Which service codes can be passed\nto you will be configured in ShipEngine.\nIf this field is missing, the rate will be discarded."))),(0,o.kt)(y,{name:"rates[].ship_datetime",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"When the package should ship for this rate to be valid.\nFormatted per the ",(0,o.kt)("a",{href:"https://tools.ietf.org/html/rfc3339",markdown:!0,parentName:"p"},"https://tools.ietf.org/html/rfc3339")," spec. Must be in UTC."))),(0,o.kt)(y,{name:"rates[].estimated_delivery_datetime",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"When the package(s) in this shipment are expected to arrive at their destination.\nFormatted per the ",(0,o.kt)("a",{href:"https://tools.ietf.org/html/rfc3339",markdown:!0,parentName:"p"},"https://tools.ietf.org/html/rfc3339")," spec. Must be in UTC."))),(0,o.kt)(y,{name:"rates[].billing_line_items",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/beta/reference/billing-line-item",markdown:!0,parentName:"p"},"billing line item object[]"))),(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Individual Billing Line items for the rate."))),(0,o.kt)(y,{name:"rates[].error_messages",type:"string[]",required:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Any error messages that resulted while trying to get the rate."))),(0,o.kt)(y,{name:"rates[].warning_messages",type:"string[]",required:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Any warning messages that resulted while trying to get the rate."))),(0,o.kt)(y,{name:"rates[].negotiated_rate",type:"boolean",required:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether this is a pre-negotiated rate.")))),(0,o.kt)("h2",{markdown:!0},"Example"),(0,o.kt)(h,{mdxType:"CodeWrapper"},(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-javascript",markdown:!0,parentName:"pre"},"module.exports = async function GetRates(request) {\n  // STEP 1: Validation\n  // TODO: add any validation logic here\n\n  // STEP 2: Create the data that the carrier's API expects\n  let data = {\n    operation: \"quote_rates\",\n    service_codes: [request.service_code],\n    confirmation_codes: [request.confirmation],\n    ship_date: request.ship_datetime,\n    from_zone: parseInt(request.ship_from.postal_code, 10),\n    to_zone: parseInt(request.ship_to.postal_code, 10),\n  };\n\n  // STEP 3: Call the carrier's API\n  const response = await apiClient.request({ data });\n\n  // STEP 4: Create the output data that ShipEngine expects\n  return formatRates(response.data);\n}\n")),(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-typescript",markdown:!0,parentName:"pre"},'import {\n  GetRatesRequest,\n  GetRatesResponse\n} from "@shipengine/connect-carrier-api";\n\nexport default async function GetRates(request: GetRatesRequest): Promise<GetRatesResponse> {\n  // STEP 1: Validation\n  // TODO: add any validation logic here\n\n  // STEP 2: Create the data that the carrier\'s API expects\n  let data: GenerateRatesRequest = {\n    operation: "quote_rates",\n    service_codes: [request.service_code],\n    confirmation_codes: [request.confirmation],\n    ship_date: request.ship_datetime,\n    from_zone: parseInt(request.ship_from.postal_code, 10),\n    to_zone: parseInt(request.ship_to.postal_code, 10),\n  };\n\n  // STEP 3: Call the carrier\'s API\n  const response = await apiClient.request<GenerateRatesRequest>({ data });\n\n  // STEP 4: Create the output data that ShipEngine expects\n  return formatRates(response.data);\n}\n'))))}b.isMDXComponent=!0},5873:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/beta/reference/methods/get-rates",function(){return a(3190)}])}},function(e){e.O(0,[1783,2888,9774,179],(function(){return t=5873,e(e.s=t);var t}));var t=e.O();_N_E=t}]);