(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9829],{16:function(e,t,n){"use strict";n.r(t),n.d(t,{title:function(){return s},description:function(){return m},createdAt:function(){return k},modifiedAt:function(){return c},default:function(){return g}});var a=n(9016),i=n(3104),r=n(6687),o=n(2320),p=n(1783),d=["components"],s=(r.createElement,"rateShipment Method"),m="This method calculates the shipping costs for a shipment, or multiple permutations of a shipment, to allow your customers to select the best rate.",k=new Date(1653338063537.9844),c=new Date(1653338063537.9844),l=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)}},h=l("CodeWrapper"),u=l("Reference"),y=l("Field"),w=l("Type"),f=l("Description"),T=function(e){return(0,o.kt)(p.Z,(0,i.Z)({title:"rateShipment Method",description:"This method calculates the shipping costs for a shipment, or multiple permutations of a shipment, to allow your customers to select the best rate.",createdAt:new Date(1653338063538),modifiedAt:new Date(1653338063538)},e))};function g(e){var t=e.components,n=(0,a.Z)(e,d);return(0,o.kt)(T,(0,i.Z)({},n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h1"},"rateShipment()")),(0,o.kt)("p",{markdown:!0},"This method calculates the shipping costs for a shipment, or multiple permutations of a shipment, to allow your customers to select the best rate."),(0,o.kt)("p",{markdown:!0},"Most carrier apps should implement this method, unless you don't support rating shipments."),(0,o.kt)("h2",{markdown:!0},"Syntax"),(0,o.kt)(h,{mdxType:"CodeWrapper"},(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-javascript",markdown:!0,parentName:"pre"},"module.exports = async function rateShipment(transaction, criteria) {\n  // Your code here\n}\n")),(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-typescript",markdown:!0,parentName:"pre"},'import { Transaction, RateCriteria, Rate } from "@shipengine/connect";\n\nexport default async function rateShipment(\n  transaction: Transaction,\n  criteria: RateCriteria\n): Promise<Rate[]> {\n  // Your code here\n}\n'))),(0,o.kt)("h2",{markdown:!0},"Parameters"),(0,o.kt)("h3",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h3"},"transaction")),(0,o.kt)("p",{markdown:!0},"A ",(0,o.kt)("a",{href:"/docs/reference/transaction",markdown:!0,parentName:"p"},"transaction object")," containing information about the transaction and session state."),(0,o.kt)("h3",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h3"},"criteria")),(0,o.kt)("p",{markdown:!0},"An ",(0,o.kt)("em",{markdown:!0,parentName:"p"},"array")," of objects containing information used to calculate shipping charges. This object may include a ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"deliveryService")," and/or a ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"fulfillmentService"),"."),(0,o.kt)("p",{markdown:!0},"If these are provided, your method should only return rates that\nmatch all the required criteria. If none of these are provided, your method should return all rates."),(0,o.kt)(u,{mdxType:"Reference"},(0,o.kt)(y,{name:"shipDateTime",nullable:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/date-time",markdown:!0,parentName:"p"},"date/time object"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The date/time that the shipment is expected to ship. This is not guaranteed to be in the future."))),(0,o.kt)(y,{name:"shipFrom",nullable:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/address#address-contact-info-properties",markdown:!0,parentName:"p"},"address + contact Info object"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The sender's contact info and address."))),(0,o.kt)(y,{name:"shipTo",nullable:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/address#address-contact-info-properties",markdown:!0,parentName:"p"},"address + contact info object"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The recipient's contact info and address."))),(0,o.kt)(y,{name:"pickupLocation",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/address#address-contact-info-pickup-location-properties",markdown:!0,parentName:"p"},"address + contact info + pickup location object"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The location where the recipient can pick up the shipment."))),(0,o.kt)(y,{name:"returns",type:"object",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"An object that indicates whether or not this shipment is a return shipment."))),(0,o.kt)(y,{name:"returns.isReturn",type:"boolean",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether or not this shipment is a return shipment."))),(0,o.kt)(y,{name:"packages",type:"object[]",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The list of packages in the shipment."))),(0,o.kt)(y,{name:"packages[].packaging",type:"object",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The packaging that may be used. If not specified, then rate quotes should be returned for all applicable packaging."),(0,o.kt)("p",{markdown:!0},"This property may be null. If it is provided, all its required properties, listed below, will be included."))),(0,o.kt)(y,{name:"packages[].packaging.id",nullable:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"https://www.npmjs.com/package/uuid",markdown:!0,parentName:"p"},"UUID"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"A UUID that uniquely identifies the object. This is the UUID you used in the ",(0,o.kt)("a",{href:"/docs/reference/packaging",markdown:!0,parentName:"p"},"Packaging Definition")," file for this packaging."))),(0,o.kt)(y,{name:"packages[].packaging.identifiers",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Your own identifiers for this packaging.")),(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/identifiers-object",markdown:!0,parentName:"p"},"identifiers object")))),(0,o.kt)(y,{name:"packages[].packaging.code",type:"string",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Optional code used to map to what the carrier uses to identify the packaging."),(0,o.kt)("p",{markdown:!0},"The value ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"custom")," indicates user-defined packaging. Some of our products allow users to enter custom packaging instead of one of your app's pre-defined packaging types."))),(0,o.kt)(y,{name:"packages[].packaging.name",type:"string",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},'The user-friendly name for this packaging (e.g. "Flat-Rate Box", "Large Padded Envelope"). This string will not contain newline characters.'))),(0,o.kt)(y,{name:"packages[].packaging.description",type:"string",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"A short, user-friendly description of the packaging. This string will not contain newline characters."))),(0,o.kt)(y,{name:"packages[].packaging.requiresWeight",type:"boolean",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether the weight must be specified when using this packaging."))),(0,o.kt)(y,{name:"packages[].packaging.requiresDimensions",type:"boolean",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether the dimensions must be specified when using this packaging."))),(0,o.kt)(y,{name:"packages[].dimensions",type:"object",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The dimensions for the package."),(0,o.kt)("p",{markdown:!0},"This property may be null. If it is provided, all its required properties, listed below, will be included."))),(0,o.kt)(y,{name:"packages[].dimensions.length",type:"number",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The length of the package. This value may contain decimals."))),(0,o.kt)(y,{name:"packages[].dimensions.width",type:"number",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The width of the package. This value may contain decimals."))),(0,o.kt)(y,{name:"packages[].dimensions.height",type:"number",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The height of the package. This value may contain decimals."),(0,o.kt)("p",{markdown:!0},"This property may be null. If it is provided, all its required properties, listed below, will be included."))),(0,o.kt)(y,{name:"packages[].dimensions.unit",type:"string",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The unit of measurement for the dimensions. Valid values include the following:"),(0,o.kt)("ul",{markdown:!0},(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"in")," - inches"),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"cm")," - centimeters")))),(0,o.kt)(y,{name:"packages[].weight",type:"object",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The weight of the package."),(0,o.kt)("p",{markdown:!0},"This property may be null. If it is provided, all its required properties, listed below, will be included."))),(0,o.kt)(y,{name:"packages[].weight.value",type:"number",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The weight value for this package. This value may contain decimals."))),(0,o.kt)(y,{name:"packages[].weight.unit",type:"string",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The unit of measure for this weight. Valid values include the following:"),(0,o.kt)("ul",{markdown:!0},(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"g")," - grams"),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"oz")," - ounces"),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"kg")," - kilograms"),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"lb")," - pounds")))),(0,o.kt)(y,{name:"packages[].insuredValue",type:"object",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The insured value of this shipment."),(0,o.kt)("p",{markdown:!0},"This property may be null. If it is provided, all its required properties, listed below, will be included."))),(0,o.kt)(y,{name:"packages[].insuredValue.value",type:"number",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The value of the insured amount."))),(0,o.kt)(y,{name:"packages[].insuredValue.currency",type:"string",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The currency that the value represents."))),(0,o.kt)(y,{name:"packages[].containsAlcohol",type:"boolean",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether the package contains alcohol."))),(0,o.kt)(y,{name:"packages[].isNonMachineable",type:"boolean",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether the package cannot be processed automatically due to size, shape, weight, etc. and requires manual handling."))),(0,o.kt)(y,{name:"packages[].customs",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/customs",markdown:!0,parentName:"p"},"customs object"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The customs associated with this package."),(0,o.kt)("p",{markdown:!0},"This property may be null. If it is provided, all its required properties, listed in the linked page, will be included."))),(0,o.kt)(y,{name:"package",type:"object",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Returns the first package in the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"packages")," array. Useful for carriers that only support single-piece shipments. This object has all the same properties as the objects in the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"packages")," array described above."))),(0,o.kt)(y,{name:"deliveryService",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/delivery-service-object#delivery-service-argument",markdown:!0,parentName:"p"},"delivery service object"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"An object that indicates the ",(0,o.kt)("a",{href:"/docs/reference/delivery-service",markdown:!0,parentName:"p"},"delivery service")," to get rates for. If neither ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"deliveryService")," nor ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"fulfillmentService")," are specified, then rate quotes should be returned for all applicable services."))),(0,o.kt)(y,{name:"fulfillmentService",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/fulfillment-service",markdown:!0,parentName:"p"},"fulfillment service string"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The ",(0,o.kt)("a",{href:"/docs/reference/fulfillment-service",markdown:!0,parentName:"p"},"fulfillment service")," that may be used to fulfill the shipment. If neither ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"deliveryService")," nor ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"fulfillmentService")," are specified, then rate quotes should be returned for all applicable services."))),(0,o.kt)(y,{name:"deliveryConfirmation",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/delivery-confirmation",markdown:!0,parentName:"p"},"delivery confirmation object"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The type of package ",(0,o.kt)("a",{href:"/docs/reference/delivery-confirmation",markdown:!0,parentName:"p"},"delivery confirmation")," to use for this rate request."))),(0,o.kt)(y,{name:"deliveryDateTime",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/date-time",markdown:!0,parentName:"p"},"date/time object"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The latest date and time that the shipment can be delivered."))),(0,o.kt)(y,{name:"totalInsuredValue",type:"object",nullable:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The total insured value of all packages in the shipment. If specified, then rate quotes should include carrier-provided insurance."),(0,o.kt)("p",{markdown:!0},"This property may be null. If it is provided, all its required properties, listed below, will be included."))),(0,o.kt)(y,{name:"totalInsuredValue.currency",type:"string",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The currency for this value."))),(0,o.kt)(y,{name:"totalInsuredValue.value",type:"number",nullable:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The amount of this value."))),(0,o.kt)(y,{name:"shippingOptions",nullable:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/shipping-options",markdown:!0,parentName:"p"},"shipping options"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The shipping options that are required for this shipment.")))),(0,o.kt)("h2",{markdown:!0},"Return Value"),(0,o.kt)("h3",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h3"},"rates[]")),(0,o.kt)("p",{markdown:!0},"An array of objects representing the quoted shipping rates based on the specified rate criteria."),(0,o.kt)(u,{mdxType:"Reference"},(0,o.kt)(y,{name:"deliveryService",required:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/delivery-confirmation-object#delivery-confirmation-return-value",markdown:!0,parentName:"p"},"delivery service object")," or string")),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The ",(0,o.kt)("a",{href:"/docs/reference/delivery-service",markdown:!0,parentName:"p"},"delivery service")," this rate is for.\nThis property accepts an object or a string representing the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"code"),"."),(0,o.kt)("p",{markdown:!0},"If an object is provided, it must have the following properties."))),(0,o.kt)(y,{name:"deliveryService.id",required:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"https://www.npmjs.com/package/uuid",markdown:!0,parentName:"p"},"UUID"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"A UUID that uniquely identifies the object. This is the UUID you used in the ",(0,o.kt)("a",{href:"/docs/reference/delivery-service",markdown:!0,parentName:"p"},"Delivery Service Definition")," file for this delivery service."))),(0,o.kt)(y,{name:"deliveryService.identifiers",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Your own identifiers for this delivery service.")),(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/identifiers-object",markdown:!0,parentName:"p"},"identifiers object")))),(0,o.kt)(y,{name:"deliveryService.code",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Optional code used to map to what the carrier or marketplace uses to identify the delivery service."))),(0,o.kt)(y,{name:"charges",required:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/charge",markdown:!0,parentName:"p"},"charge object[]"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},'The breakdown of charges for this shipment.  If the carrier does not provide a detailed breakdown, then just use a single charge of type "shipping". If the carrier does not provide any charges values at all, return a $0 value charge.'))),(0,o.kt)(y,{name:"shipDateTime",required:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/date-time",markdown:!0,parentName:"p"},"date/time object"),", ",(0,o.kt)("br",null),"\nor ",(0,o.kt)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",markdown:!0,parentName:"p"},"Date object")," object, ",(0,o.kt)("br",null),"\nor a string representing the date and time in ",(0,o.kt)("a",{href:"https://www.w3.org/TR/NOTE-datetime",markdown:!0,parentName:"p"},"ISO")," format.")),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The date/time that the shipment is expected to ship.  This is not guaranteed to be in the future."))),(0,o.kt)(y,{name:"deliveryDateTime",required:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/date-time",markdown:!0,parentName:"p"},"date/time object"),", ",(0,o.kt)("br",null),"\nor ",(0,o.kt)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",markdown:!0,parentName:"p"},"Date object")," object, ",(0,o.kt)("br",null),"\nor a string representing the date and time in ",(0,o.kt)("a",{href:"https://www.w3.org/TR/NOTE-datetime",markdown:!0,parentName:"p"},"ISO")," format.")),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The estimated date and time the shipment will be delivered."))),(0,o.kt)(y,{name:"isNegotiatedRate",type:"boolean",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether this shipment used a pre-negotiated terms."))),(0,o.kt)(y,{name:"isTrackable",type:"boolean",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether tracking numbers are provided."))),(0,o.kt)(y,{name:"deliveryConfirmation",required:!1,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/delivery-confirmation-object#delivery-confirmation-return-value",markdown:!0,parentName:"p"},"delivery confirmation object")," or string")),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The ",(0,o.kt)("a",{href:"/docs/reference/delivery-confirmation",markdown:!0,parentName:"p"},"delivery confirmation")," included in this rate. This property accepts an object or a string representing the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"id"),", ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"code"),", or ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"type"),"."),(0,o.kt)("p",{markdown:!0},"If an object is provided, it must have the following properties."))),(0,o.kt)(y,{name:"deliveryConfirmation.id",required:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"https://www.npmjs.com/package/uuid",markdown:!0,parentName:"p"},"UUID"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"UUID that uniquely identifies the delivery confirmation. This ID should never change."))),(0,o.kt)(y,{name:"deliveryConfirmation.identifiers",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Your own identifiers for this delivery confirmation.")),(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/identifiers-object",markdown:!0,parentName:"p"},"identifiers object")))),(0,o.kt)(y,{name:"deliveryConfirmation.code",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Optional code used to map to what the carrier or marketplace uses to identify the packaging."))),(0,o.kt)(y,{name:"notes",type:"object[]",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"An array of objects containing additional information about this rate."),(0,o.kt)("p",{markdown:!0},"This property is not required. If it is provided, it must contain all of its required properties, listed below."))),(0,o.kt)(y,{name:"notes[].type",required:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/common-types#notes-types",markdown:!0,parentName:"p"},"notes type string"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The type for this note."))),(0,o.kt)(y,{name:"notes[].text",type:"string",required:!0,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The note text itself."))),(0,o.kt)(y,{name:"packages",type:"object[]",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"An array of objects describing the list of packages in the shipment."))),(0,o.kt)(y,{name:"packages[].packaging",required:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},"object or string")),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The packaging this rate is for. This property accepts an object or a string representing the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"code"),"."),(0,o.kt)("p",{markdown:!0},"This property is not required. If it is provided, it must contain all of its required properties, listed below."))),(0,o.kt)(y,{name:"packages[].packaging.id",required:!0,mdxType:"Field"},(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"https://www.npmjs.com/package/uuid",markdown:!0,parentName:"p"},"UUID"))),(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"A UUID that uniquely identifies the object. This is the UUID you used in the ",(0,o.kt)("a",{href:"/docs/reference/packaging",markdown:!0,parentName:"p"},"Packaging Definition")," file for this packaging type."))),(0,o.kt)(y,{name:"packages[].packaging.identifiers",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Your own identifiers for this packaging.")),(0,o.kt)(w,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/identifiers-object",markdown:!0,parentName:"p"},"identifiers object")))),(0,o.kt)(y,{name:"packages[].packaging.code",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(f,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Optional code used to map to what the carrier or marketplace uses to identify the packaging."),(0,o.kt)("p",{markdown:!0},"The value ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"custom")," indicates user-defined packaging. Some of our products allow users to enter custom packaging instead of one of your app's pre-defined packaging types.")))),(0,o.kt)("h2",{markdown:!0},"Example"),(0,o.kt)(h,{mdxType:"CodeWrapper"},(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-javascript",markdown:!0,parentName:"pre"},"module.exports = async function rateShipment(transaction, shipment) {\n\n  // STEP 1: Validation\n  // TODO: add any validation logic here\n\n  // STEP 2: Create the data that the carrier's API expects\n  let data = {\n    operation: \"quote_rates\",\n    session_id: transaction.session.id,\n    service_codes: [shipment.deliveryService.code],\n    confirmation_codes: [shipment.deliveryConfirmation.code],\n    parcel_codes: [shipment.packages[0].packaging.code],\n    ship_date: shipment.shipDateTime.toISOString(),\n    delivery_date: shipment.deliveryDateTime.toISOString(),\n    from_zone: parseInt(shipment.shipFrom.postalCode, 10),\n    to_zone: parseInt(shipment.shipTo.postalCode, 10),\n    total_weight: shipment.packages[0].weight.ounces,\n  };\n\n  // STEP 3: Call the carrier's API\n  const response = await apiClient.request({ data });\n\n  // STEP 4: Create the output data that ShipEngine expects\n  return response.data.map(formatRate);\n}\n")),(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-typescript",markdown:!0,parentName:"pre"},'import {\n  ChargeType,\n  RateCriteria,\n  Rate,\n  Transaction\n} from "@shipengine/connect";\n\nexport default async function rateShipment(\n  transaction: Transaction<Session>, shipment: RateCriteria): Promise<Rate[]> {\n\n  // STEP 1: Validation\n  // TODO: add any validation logic here\n\n  // STEP 2: Create the data that the carrier\'s API expects\n  let data: QuoteRatesRequest = {\n    operation: "quote_rates",\n    session_id: transaction.session.id,\n    service_codes: [shipment.deliveryService.code],\n    confirmation_codes: [shipment.deliveryConfirmation.code],\n    parcel_codes: [shipment.packages[0].packaging.code],\n    ship_date: shipment.shipDateTime.toISOString(),\n    delivery_date: shipment.deliveryDateTime.toISOString(),\n    from_zone: parseInt(shipment.shipFrom.postalCode, 10),\n    to_zone: parseInt(shipment.shipTo.postalCode, 10),\n    total_weight: shipment.packages[0].weight.ounces,\n  };\n\n  // STEP 3: Call the carrier\'s API\n  const response = await apiClient.request<QuoteRatesResponse>({ data });\n\n  // STEP 4: Create the output data that ShipEngine expects\n  return response.data.map(formatRate);\n}\n'))))}g.isMDXComponent=!0},3465:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/reference/methods/rate-shipment",function(){return n(16)}])}},function(e){e.O(0,[1783,2888,9774,179],(function(){return t=3465,e(e.s=t);var t}));var t=e.O();_N_E=t}]);