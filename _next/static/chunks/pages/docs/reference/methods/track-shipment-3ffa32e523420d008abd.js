(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7076],{8728:function(e,t,n){"use strict";n.r(t),n.d(t,{title:function(){return d},description:function(){return m},createdAt:function(){return k},modifiedAt:function(){return c},default:function(){return f}});var r=n(9016),i=n(3104),a=n(6687),o=n(2320),s=n(1783),p=["components"],d=(a.createElement,"trackShipment Method"),m="This method returns tracking information for a shipment.",k=new Date(1653344530655.3296),c=new Date(1653344530655.3296),h=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)}},l=h("CodeWrapper"),u=h("Reference"),w=h("Field"),T=h("Description"),y=h("Type"),g=function(e){return(0,o.kt)(s.Z,(0,i.Z)({title:"trackShipment Method",description:"This method returns tracking information for a shipment.",createdAt:new Date(1653344530655),modifiedAt:new Date(1653344530655)},e))};function f(e){var t=e.components,n=(0,r.Z)(e,p);return(0,o.kt)(g,(0,i.Z)({},n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h1"},"trackShipment()")),(0,o.kt)("p",{markdown:!0},"This method returns tracking information for a shipment, including each of the tracking events that have occurred for\nthe shipment."),(0,o.kt)("p",{markdown:!0},"Most carrier applications should implement this method, unless you don't support tracking shipments."),(0,o.kt)("h2",{markdown:!0},"Syntax"),(0,o.kt)(l,{mdxType:"CodeWrapper"},(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-javascript",markdown:!0,parentName:"pre"},"module.exports = async function trackShipment(transaction, shipment) {\n  // Your code here\n}\n")),(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-typescript",markdown:!0,parentName:"pre"},'import { Transaction, TrackingCriteria, TrackingInfo } from "@shipengine/connect";\n\nexport default async function trackShipment(\n  transaction: Transaction,\n  shipment: TrackingCriteria\n): Promise<TrackingInfo> {\n  // Your code here\n}\n'))),(0,o.kt)("h2",{markdown:!0},"Parameters"),(0,o.kt)("h3",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h3"},"transaction")),(0,o.kt)("p",{markdown:!0},"A ",(0,o.kt)("a",{href:"/docs/reference/transaction",markdown:!0,parentName:"p"},"transaction object")," containing information about the transaction and session state."),(0,o.kt)("h3",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h3"},"shipment")),(0,o.kt)("p",{markdown:!0},"An object containing information about which shipment to track."),(0,o.kt)(u,{mdxType:"Reference"},(0,o.kt)(w,{name:"trackingNumber",type:"string",nullable:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The master tracking number for the entire shipment. For single-piece shipments, this will be the same as the package\ntracking number. For multi-piece shipments, this may be a separate tracking number,\nor the same tracking number as one of the packages. This string will not contain newline characters."))),(0,o.kt)(w,{name:"identifiers",nullable:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Your own identifiers for this shipment.")),(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/identifiers-object",markdown:!0,parentName:"p"},"identifiers object")))),(0,o.kt)(w,{name:"returns",type:"object",nullable:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"An object that indicates whether or not this shipment is a return shipment."))),(0,o.kt)(w,{name:"returns.isReturn",type:"boolean",nullable:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether or not this shipment is a return shipment."))),(0,o.kt)(w,{name:"metadata",type:"object",nullable:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Custom data about this shipment that was persisted by ShipEngine Connect. Must be JSON serializable.")))),(0,o.kt)("h2",{markdown:!0},"Return Value"),(0,o.kt)("h3",{markdown:!0},(0,o.kt)("inlineCode",{markdown:!0,parentName:"h3"},"trackingInfo")),(0,o.kt)("p",{markdown:!0},"An object with tracking information for the specified shipment."),(0,o.kt)(u,{mdxType:"Reference"},(0,o.kt)(w,{name:"events",type:"object[]",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The events and status changes that have occurred for this shipment."))),(0,o.kt)(w,{name:"events[].name",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},'The user-friendly name of the event (e.g. "Arrived at Warehouse", "Delivered"). This string must not contain newline characters.'))),(0,o.kt)(w,{name:"events[].dateTime",required:!0,mdxType:"Field"},(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/date-time",markdown:!0,parentName:"p"},"date/time object"),", ",(0,o.kt)("br",null),"\nor ",(0,o.kt)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",markdown:!0,parentName:"p"},"Date object")," object, ",(0,o.kt)("br",null),"\nor a string representing the date and time in ",(0,o.kt)("a",{href:"https://www.w3.org/TR/NOTE-datetime",markdown:!0,parentName:"p"},"ISO")," format.")),(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The date/time that this event occurred."))),(0,o.kt)(w,{name:"events[].status",type:"string",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The status of the shipment. Value values include the following:"),(0,o.kt)("ul",{markdown:!0},(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"accepted")," - The shipment has been accepted by a drop-off facility or picked up by the carrier."),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"in_transit")," - The shipment is in transit."),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"delivery_attempted")," - The delivery was attempted but was unsuccessful. This could happen if a signature\nis required for delivery confirmation\nand no one is home when the delivery is attempted, for example."),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"delivered")," - The shipment has been delivered."),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"exception")," - There was an error is tracking the shipment.")))),(0,o.kt)(w,{name:"events[].isError",type:"boolean",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Indicates whether this event represents an error state, such as a lost package or failed delivery."))),(0,o.kt)(w,{name:"events[].code",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The carrier's event or status code. This string must not contain newline characters."))),(0,o.kt)(w,{name:"events[].description",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The carrier's description of the event or status code. This description should not be specific to this particular shipment.\nThis string must not contain newline characters."))),(0,o.kt)(w,{name:"events[].address",required:!1,mdxType:"Field"},(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/address#address-properties",markdown:!0,parentName:"p"},"address object"))),(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The address (or as much of it as is known) where the event occurred. This property uses an ",(0,o.kt)("a",{href:"/docs/reference/address#address.properties",markdown:!0,parentName:"p"},"address object"),", but\nall of its properties are optional in this case."))),(0,o.kt)(w,{name:"events[].signer",required:!1,mdxType:"Field"},(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},"object or string")),(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},'The name of the person who signed or approved this event. This is usually only relevant for the "Delivered" event.\nThis property can take a string or object.'),(0,o.kt)("p",{markdown:!0},"If passing an object, use the properties described below."),(0,o.kt)("p",{markdown:!0},"This property is not required. If it is provided, it must contain all of its required properties, listed below."))),(0,o.kt)(w,{name:"events[].signer.title",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},'The title of the contact (eg "Mr", "Mrs", "Dr"). This string must not contain newline characters.'))),(0,o.kt)(w,{name:"events[].signer.given",type:"string",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The first name of the signer. This string must not contain newline characters."))),(0,o.kt)(w,{name:"events[].signer.middle",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The middle name of the signer. This string must not contain newline characters."))),(0,o.kt)(w,{name:"events[].signer.family",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The last name or family name of the signer. This string must not contain newline characters."))),(0,o.kt)(w,{name:"events[].signer.suffix",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},'The suffix of the signer (eg "Sr", "Jr", "IV"). This string must not contain newline characters.'))),(0,o.kt)(w,{name:"trackingNumber",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The master tracking number for the entire shipment. For single-piece shipments, this will be the same as the package\ntracking number. For multi-piece shipments, this may be a separate tracking number,\nor the same tracking number as one of the packages. This string contain\nno newline characters."))),(0,o.kt)(w,{name:"identifiers",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Your own identifiers for this shipment.")),(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/identifiers-object",markdown:!0,parentName:"p"},"identifiers object")))),(0,o.kt)(w,{name:"deliveryDateTime",required:!1,mdxType:"Field"},(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/date-time",markdown:!0,parentName:"p"},"date/time object"),", ",(0,o.kt)("br",null),"\nor ",(0,o.kt)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",markdown:!0,parentName:"p"},"Date object")," object, ",(0,o.kt)("br",null),"\nor a string representing the date and time in ",(0,o.kt)("a",{href:"https://www.w3.org/TR/NOTE-datetime",markdown:!0,parentName:"p"},"ISO")," format.")),(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The date and time that the shipment is now expected to be delivered. Once the shipment has been delivered, this is\nthe actual delivery date/time."))),(0,o.kt)(w,{name:"packages",type:"object[]",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The list of packages in the shipment."),(0,o.kt)("p",{markdown:!0},"This property is not required. If it is provided, it must contain all of its required properties, listed below."))),(0,o.kt)(w,{name:"packages[].packaging",required:!1,mdxType:"Field"},(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},"object or string")),(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The actual packaging that was used, as determined by the carrier. This property accepts an object or a string\nrepresenting the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"code"),". If an object is provided, it will have the following properties."))),(0,o.kt)(w,{name:"packages[].packaging.id",required:!0,mdxType:"Field"},(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"https://www.npmjs.com/package/uuid",markdown:!0,parentName:"p"},"UUID"))),(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"UUID that uniquely identifies the object. This is the UUID you used in the ",(0,o.kt)("a",{href:"/docs/reference/packaging",markdown:!0,parentName:"p"},"Packaging Definition"),"\nfile for this packaging."))),(0,o.kt)(w,{name:"packages[].packaging.identifiers",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Your own identifiers for this packaging.")),(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/identifiers-object",markdown:!0,parentName:"p"},"identifiers object")))),(0,o.kt)(w,{name:"packages[].packaging.code",type:"string",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"Optional code used to map to what the carrier uses to identify the packaging."),(0,o.kt)("p",{markdown:!0},"The value ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"custom")," indicates user-defined packaging. Some of our products allow users to enter custom packaging instead of one of your app's pre-defined packaging types."))),(0,o.kt)(w,{name:"packages[].dimensions",type:"object",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The dimensions for the package."),(0,o.kt)("p",{markdown:!0},"This property is not required. If it is provided, it must contain all of its required properties, listed below."))),(0,o.kt)(w,{name:"packages[].dimensions.length",type:"number",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The length of the package. This value may contain decimals."))),(0,o.kt)(w,{name:"packages[].dimensions.width",type:"number",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The width of the package. This value may contain decimals."))),(0,o.kt)(w,{name:"packages[].dimensions.height",type:"number",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The height of the package. This value may contain decimals."))),(0,o.kt)(w,{name:"packages[].dimensions.unit",type:"string",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The unit of measurement for the dimensions. Valid values include the following:"),(0,o.kt)("ul",{markdown:!0},(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"in")," - inches"),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"cm")," - centimeters")))),(0,o.kt)(w,{name:"packages[].weight",type:"object",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The weight of the package."),(0,o.kt)("p",{markdown:!0},"This property is not required. If it is provided, it must contain all of its required properties, listed below."))),(0,o.kt)(w,{name:"packages[].weight.value",type:"number",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The weight value for this package. This value may not contain decimals."))),(0,o.kt)(w,{name:"packages[].weight.unit",type:"string",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The unit of measure for this weight. Valid values include the following:"),(0,o.kt)("ul",{markdown:!0},(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"g")," - grams"),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"oz")," - ounces"),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"kg")," - kilograms"),(0,o.kt)("li",{markdown:!0,parentName:"ul"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"li"},"lb")," - pounds")))),(0,o.kt)(w,{name:"notes",type:"object[]",required:!1,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"An array of objects containing additional information about this shipment."),(0,o.kt)("p",{markdown:!0},"This property is not required. If it is provided, it must contain all of its required properties, listed below."))),(0,o.kt)(w,{name:"notes[].type",required:!0,mdxType:"Field"},(0,o.kt)(y,{mdxType:"Type"},(0,o.kt)("p",{markdown:!0},(0,o.kt)("a",{href:"/docs/reference/common-types#notes-types",markdown:!0,parentName:"p"},"notes type string"))),(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The type for this note."))),(0,o.kt)(w,{name:"notes[].text",type:"string",required:!0,mdxType:"Field"},(0,o.kt)(T,{mdxType:"Description"},(0,o.kt)("p",{markdown:!0},"The note text itself.")))),(0,o.kt)("h2",{markdown:!0},"Example"),(0,o.kt)(l,{mdxType:"CodeWrapper"},(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-javascript",markdown:!0,parentName:"pre"},'module.exports = async function trackShipment(transaction, trackingCriteria) {\n  // STEP 1: Validation\n\n\n  // STEP 2: Create the data that the carrier"s API expects\n\n  const { trackingNumber, returns } = trackingCriteria;\n\n  const data = {\n    operation: "location_history",\n    trackingNumber,\n    isReturn: returns.isReturn\n  };\n\n  // STEP 3: Call the carrier"s API\n  const response = await apiClient.request({ data });\n\n  // STEP 4: Create the output data that ShipEngine expects\n  return await formatTrackingResponse(response.data);\n\n}\n')),(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-typescript",markdown:!0,parentName:"pre"},'import {\n  Transaction,\n  TrackingCriteria,\n  TrackingInfo\n} from "@shipengine/connect";\n\nexport default async function trackShipment(\n  transaction: Transaction, trackingCriteria: TrackingCriteria): Promise<TrackingInfo> {\n  // STEP 1: Validation\n\n\n  // STEP 2: Create the data that the carrier"s API expects\n\n  const { trackingNumber, returns } = trackingCriteria;\n\n  const data = {\n    operation: "location_history",\n    trackingNumber,\n    isReturn: returns.isReturn\n  };\n\n  // STEP 3: Call the carrier"s API\n  const response = await apiClient.request({ data });\n\n  // STEP 4: Create the output data that ShipEngine expects\n  return await formatTrackingResponse(response.data);\n}\n'))))}f.isMDXComponent=!0},4567:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/reference/methods/track-shipment",function(){return n(8728)}])}},function(e){e.O(0,[1783,2888,9774,179],(function(){return t=4567,e(e.s=t);var t}));var t=e.O();_N_E=t}]);