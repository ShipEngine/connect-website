(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{1859:function(e,n,t){"use strict";t.r(n),t.d(n,{title:function(){return p},description:function(){return m},createdAt:function(){return c},modifiedAt:function(){return h},default:function(){return k}});var a=t(9016),i=t(3104),r=t(6687),o=t(2320),s=t(1783),d=["components"],p=(r.createElement,"Identifiers Object"),m="The page describes the identifiers object.",c=new Date(1653338888623.7585),h=new Date(1653338888623.7585),l=function(e){return(0,o.kt)(s.Z,(0,i.Z)({title:"Identifiers Object",description:"The page describes the identifiers object.",createdAt:new Date(1653338888624),modifiedAt:new Date(1653338888624)},e))};function k(e){var n=e.components,t=(0,a.Z)(e,d);return(0,o.kt)(l,(0,i.Z)({},t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{markdown:!0},"Identifiers Object"),(0,o.kt)("p",{markdown:!0},"Most resources in your application support an ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"identifiers")," property. This property is useful for storing\nany custom data that may be needed by your application."),(0,o.kt)("p",{markdown:!0},"For example, let's say that your backend API requires\nthe ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"shipTo")," address when scheduling a pickup for a shipment. You can see that the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"shipTo")," address is not\nincluded in the arguments passed to your ",(0,o.kt)("a",{href:"%22./methods/schedulePickup%22",markdown:!0,parentName:"p"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"a"},"schedulePickup")," method")," since most carriers\nwill obtain that information from the generated label. It could be useful to store that\ninformation in the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"identifiers")," object for the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"shipment"),". Then when the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"shipment")," is sent to your ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"schedulePickup")," method,\nyou will have access to the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"shipTo")," details via the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"identifiers")," property."),(0,o.kt)("p",{markdown:!0},"Your application definition files, such as the definition for a ",(0,o.kt)("a",{href:"/docs/reference/delivery-service",markdown:!0,parentName:"p"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"a"},"delivery service"))," or ",(0,o.kt)("a",{href:"/docs/reference/delivery-confirmation",markdown:!0,parentName:"p"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"a"},"delivery confirmation")),"\nalso include the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"identifiers")," property. You can use this to store additional information about the service that may be needed later\nby your app when a ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"delivery service")," is passed as an argument to one of your methods."),(0,o.kt)("p",{markdown:!0},"The ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"identifiers")," object stores an array of key-value pair strings. Each string must be between ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"0")," and ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"100")," characters\nand must not contain newline characters or leading or trailing spaces."),(0,o.kt)("h1",{markdown:!0},"Examples"),(0,o.kt)("h3",{markdown:!0},"Adding to an object returned from a method"),(0,o.kt)("p",{markdown:!0},"This method uses the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"identifiers")," object to store data on a shipment that will be needed by another method when it receives\nthe shipment as an argument."),(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-javascript",markdown:!0,parentName:"pre"},"\nconst mapCreateShipmentResponse = (response) => {\n\n  const {\n      shipTo,\n      consignmentNumber,\n      label,\n      rate\n  } = response;\n\n  return {\n      trackingNumber: consignmentNumber,\n      label: {\n        type: 'label',\n        size: '4x6',\n        format: 'pdf',\n        data: Buffer.from(label, 'base64'),\n        referenceFields: []\n      },\n      charges: rate.charges,\n      identifiers: {\n        shipToName: (shipTo.name.given + ' ' + shipTo.name.family).trim(),\n        shipToAddressLine1: shipTo.addressLines[0],\n        shipToAddressLine2: shipTo.addressLines[1] ? shipTo.addressLines[1] : '',\n        shipToAddressLine3: shipTo.addressLines[2] ? shipTo.addressLines[2] : '',\n        shipToCityLocality: shipTo.cityLocality,\n        shipToStateProvince: shipTo.stateProvince,\n        shipToPostalCode: shipTo.postalCode,\n        shipToCountry: shipTo.country,\n        shipToCompany: shipTo.company\n      }\n    };\n});\n\n")),(0,o.kt)("h3",{markdown:!0},"Using the identifiers within a method"),(0,o.kt)("p",{markdown:!0},"This example uses the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"identifiers")," that were set by the ",(0,o.kt)("a",{href:"./methods/createShipment",markdown:!0,parentName:"p"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"a"},"createShipment")," method"),"\nto access internal data needed by the ",(0,o.kt)("a",{href:"./methods/cancel-shipments",markdown:!0,parentName:"p"},(0,o.kt)("inlineCode",{markdown:!0,parentName:"a"},"cancelShipments")," method"),"."),(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-javascript",markdown:!0,parentName:"pre"},"module.exports = async function cancelShipments(transaction, shipmentCancellations) {\n\n // STEP 2: Create the data that the carrier's API expects\n  let data = {\n    operation: \"void_labels\",\n    session_id: transaction.session.id,\n    cancellations: shipmentCancellations.map((cancellation) => {\n      const { cancellationID, trackingNumber } = cancellation;\n      return {\n        cancellationID: cancellationID,\n        internalReferenceID: cancellation.identifiers.internalReferenceID,\n        trackingNumber: trackingNumber,\n      };\n    }),\n  };\n\n  // STEP 3: Call the carrier's API\n  const response = await apiClient.request({ data });\n\n  // STEP 4: Create the output data that ShipEngine expects\n  return await formatCancellationResponse(response.data);\n}\n")),(0,o.kt)("h3",{markdown:!0},"Using the identifiers in a Delivery Confirmation Definition"),(0,o.kt)("p",{markdown:!0},"This example specifies an internal code for the delivery confirmation using the ",(0,o.kt)("inlineCode",{markdown:!0,parentName:"p"},"identifiers")," object. This property\nwill be available whenever this delivery confirmation is passed as an argument to one of your methods."),(0,o.kt)("pre",{markdown:!0},(0,o.kt)("code",{className:"language-javascript",markdown:!0,parentName:"pre"},'{\n  "id": "67ba25f0-6492-417f-be47-26f7763d7853",\n  "name": "Authority To Leave",\n  "identifiers": {\n    "internalCode": "ATL"\n  },\n  "description": "The carrier has the authority to leave the package at a PPOP.",\n  "type": "signature"\n}\n\n')))}k.isMDXComponent=!0},5079:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/reference/identifiers-object",function(){return t(1859)}])}},function(e){e.O(0,[1783,2888,9774,179],(function(){return n=5079,e(e.s=n);var n}));var n=e.O();_N_E=n}]);